import{_ as s}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as d,a as e,b as t,d as a,w as n,e as o,r}from"./app.e5d47935.js";const p={},c=e("h1",{id:"hive-连接器",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#hive-连接器","aria-hidden":"true"},"#"),t(" Hive 连接器")],-1),u=o(`<p><strong>BitSail</strong> hive连接器支持对hive表进行读写。主要功能点如下:</p><ul><li>支持读取分区表和非分区表</li><li>支持写入分区表</li><li>支持读写多种格式 hive 表，比如parquet、orc、text</li></ul><h2 id="支持的hive版本" tabindex="-1"><a class="header-anchor" href="#支持的hive版本" aria-hidden="true">#</a> 支持的hive版本</h2><ul><li>1.2 <ul><li>1.2.0</li><li>1.2.1</li><li>1.2.2</li></ul></li><li>2.0 <ul><li>2.0.0</li><li>2.1.0</li><li>2.1.1</li><li>2.3.0</li><li>2.3.9</li></ul></li><li>3.0 <ul><li>3.1.0</li><li>3.1.2</li></ul></li></ul><h2 id="依赖引入" tabindex="-1"><a class="header-anchor" href="#依赖引入" aria-hidden="true">#</a> 依赖引入</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.bytedance.bitsail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>bitsail-connector-hive<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>\${revision}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="hive读连接器" tabindex="-1"><a class="header-anchor" href="#hive读连接器" aria-hidden="true">#</a> Hive读连接器</h2><h3 id="支持的数据类型" tabindex="-1"><a class="header-anchor" href="#支持的数据类型" aria-hidden="true">#</a> 支持的数据类型</h3><ul><li>支持的基础数据类型如下: <ul><li>整数类型: <ul><li>tinyint</li><li>smallint</li><li>int</li><li>bigint</li></ul></li><li>浮点类型: <ul><li>float</li><li>double</li><li>decimal</li></ul></li><li>时间类型: <ul><li>timestamp</li><li>date</li></ul></li><li>字符类型: <ul><li>string</li><li>varchar</li><li>char</li></ul></li><li>布尔类型: <ul><li>boolean</li></ul></li><li>二进制类型: <ul><li>binary</li></ul></li></ul></li><li>支持的复杂数据类型包括: <ul><li>map</li><li>array</li></ul></li></ul><h3 id="主要参数" tabindex="-1"><a class="header-anchor" href="#主要参数" aria-hidden="true">#</a> 主要参数</h3><p>hive读连接器参数在<code>job.reader</code>中配置，实际使用时请注意路径前缀。示例:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;job&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;reader&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;db_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test_database&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;table_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test_table&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="必需参数" tabindex="-1"><a class="header-anchor" href="#必需参数" aria-hidden="true">#</a> 必需参数</h4><table><thead><tr><th style="text-align:left;">参数名称</th><th style="text-align:left;">参数是否必需</th><th style="text-align:left;">参数枚举值</th><th style="text-align:left;">参数含义</th></tr></thead><tbody><tr><td style="text-align:left;">class</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">Hive读连接器类名，只能为<code>com.bytedance.bitsail.connector.legacy.hive.source.HiveInputFormat</code></td></tr><tr><td style="text-align:left;">db_name</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">读取的hive库名</td></tr><tr><td style="text-align:left;">table_name</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">读取的hive表名</td></tr><tr><td style="text-align:left;">metastore_properties</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">标准json格式的metastore属性字符串</td></tr></tbody></table><h4 id="可选参数" tabindex="-1"><a class="header-anchor" href="#可选参数" aria-hidden="true">#</a> 可选参数</h4><table><thead><tr><th style="text-align:left;">参数名称</th><th style="text-align:left;">参数是否必需</th><th style="text-align:left;">参数枚举值</th><th style="text-align:left;">参数含义</th></tr></thead><tbody><tr><td style="text-align:left;">partition</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">要读取的hive分区。若不设置，则读取整张hive表</td></tr><tr><td style="text-align:left;">columns</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">数据字段名称及类型。若不设置，则从metastore获取</td></tr><tr><td style="text-align:left;">reader_parallelism_num</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">读并发数</td></tr></tbody></table><h2 id="hive写连接器" tabindex="-1"><a class="header-anchor" href="#hive写连接器" aria-hidden="true">#</a> Hive写连接器</h2><h3 id="支持的数据类型-1" tabindex="-1"><a class="header-anchor" href="#支持的数据类型-1" aria-hidden="true">#</a> 支持的数据类型</h3><ul><li>支持的基础数据类型如下: <ul><li>整数类型: <ul><li>tinyint</li><li>smallint</li><li>int</li><li>bigint</li></ul></li><li>浮点类型: <ul><li>float</li><li>double</li><li>decimal</li></ul></li><li>时间类型: <ul><li>timestamp</li><li>date</li></ul></li><li>字符类型: <ul><li>string</li><li>varchar</li><li>char</li></ul></li><li>布尔类型: <ul><li>boolean</li></ul></li><li>二进制类型: <ul><li>binary</li></ul></li></ul></li><li>支持的复杂数据类型包括: <ul><li>map</li><li>array</li></ul></li></ul><h3 id="主要参数-1" tabindex="-1"><a class="header-anchor" href="#主要参数-1" aria-hidden="true">#</a> 主要参数</h3><p>hive写连接器参数在<code>job.writer</code>中配置，实际使用时请注意路径前缀。示例:</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;job&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;writer&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;db_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test_database&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;table_name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;test_table&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="必需参数-1" tabindex="-1"><a class="header-anchor" href="#必需参数-1" aria-hidden="true">#</a> 必需参数</h4><table><thead><tr><th style="text-align:left;">参数名称</th><th style="text-align:left;">参数是否必需</th><th style="text-align:left;">参数枚举值</th><th style="text-align:left;">参数含义</th></tr></thead><tbody><tr><td style="text-align:left;">db_name</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">写入的hive库名</td></tr><tr><td style="text-align:left;">table_name</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">写入的hive表名</td></tr><tr><td style="text-align:left;">partition</td><td style="text-align:left;">是</td><td style="text-align:left;"></td><td style="text-align:left;">写入的hive分区名</td></tr><tr><td style="text-align:left;">columns</td><td style="text-align:left;">否</td><td style="text-align:left;"></td><td style="text-align:left;">数据字段名称及类型，若不设置，则从metastore获取</td></tr></tbody></table><h4 id="可选参数-1" tabindex="-1"><a class="header-anchor" href="#可选参数-1" aria-hidden="true">#</a> 可选参数</h4><table><thead><tr><th style="text-align:left;">参数名称</th><th style="text-align:left;">参数默认值</th><th style="text-align:left;">参数枚举值</th><th style="text-align:left;">参数含义</th></tr></thead><tbody><tr><td style="text-align:left;">date_to_string_as_long</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">是否将日期数据转化为整数时间戳</td></tr><tr><td style="text-align:left;">null_string_as_null</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">是否将null数据转化为null。若为false，则转化为空字符串 <code>&quot;&quot;</code></td></tr><tr><td style="text-align:left;">date_precision</td><td style="text-align:left;">second</td><td style="text-align:left;">second<br>millisecond</td><td style="text-align:left;">日期数据转化为整数时间戳时的精度</td></tr><tr><td style="text-align:left;">convert_error_column_as_null</td><td style="text-align:left;">false</td><td style="text-align:left;"></td><td style="text-align:left;">是否将转化出错的字段置为null。若为false，则在转化出错时抛出异常</td></tr><tr><td style="text-align:left;">hive_parquet_compression</td><td style="text-align:left;">gzip</td><td style="text-align:left;"></td><td style="text-align:left;">当hive文件为parquet格式时，指定文件的压缩方式</td></tr></tbody></table><h2 id="相关文档" tabindex="-1"><a class="header-anchor" href="#相关文档" aria-hidden="true">#</a> 相关文档</h2>`,27);function h(g,f){const l=r("RouterLink");return i(),d("div",null,[c,e("p",null,[t("上级文档："),a(l,{to:"/zh/documents/connectors/"},{default:n(()=>[t("连接器")]),_:1})]),u,e("p",null,[t("配置示例文档："),a(l,{to:"/zh/documents/connectors/hive/hive-example.html"},{default:n(()=>[t("Hive 连接器示例")]),_:1})])])}const v=s(p,[["render",h],["__file","hive.html.vue"]]);export{v as default};
